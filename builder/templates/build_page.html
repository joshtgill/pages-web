<html>
    {% load static %}
    <head>
        <title>{{ pageData.typee }} Builder</title>

        <link rel="stylesheet" type="text/css" href="{% static 'styles/build_page.css' %}">
    </head>
    <body>
        {% include 'core.html' %}

        <div class="content">
            {% if pageData.typee|first|upper in 'AEIOU' %}
                <h1>Build an {{ pageData.typee }}</h1>
            {% else %}
                <h1>Build a {{ pageData.typee }}</h1>
            {% endif %}
            <form id="pageForm" method="POST">
                {% csrf_token %}
                <input id="pageNameInput" name="pageName" placeholder="{{ pageData.typee }} name" autocomplete="off" value="{{ pageData.name }}" required>
                <input type="hidden" name="pageType" value="{{ pageData.typee }}">
                {% if pageData.typee == 'Sheet' %}
                    {% include 'pages/sheet.html' %}
                <div class="actions">
                    <button class="action-button" id="savePageButton" type="button" onclick="sheet.submit()">Save {{ pageData.typee }}</button>
                {% elif pageData.typee == 'Event' %}
                    {% include 'pages/event.html' %}
                <div class="actions">
                    <button class="action-button" id="savePageButton" type="submit">Save {{ pageData.typee }}</button>
                {% endif %}
                    {% if pageData.id %}
                        {{ pageDeleteConfirmationPopupData|json_script:"pageDeleteConfirmationPopupData" }}
                        <button class="action-button" id="deletePageButton" type="button" onclick="confirmationPopup.display('pageDeleteConfirmationPopupData')">Delete Page</button>
                    {% endif %}
                </div>

                <input type="hidden" name="pageId" value="{{ pageData.id }}"></input>
            </form>
            <form id="pageDeleteForm" method="POST">
                {% csrf_token %}
                <input type="hidden" name="pageIdToDelete" value="{{ pageData.id }}">
            </form>
        </div>
    </body>

    {% include 'base_popup.html' %}
    {% include 'confirmation_popup.html' %}
</html>
